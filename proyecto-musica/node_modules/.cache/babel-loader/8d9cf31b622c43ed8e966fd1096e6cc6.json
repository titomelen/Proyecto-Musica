{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Enrique\\\\Documents\\\\Desarrollo WEB Cliente\\\\ProyectoMusica\\\\ProyectoMusica\\\\proyecto-musica\\\\src\\\\modulos\\\\vistas\\\\login.js\";\nimport React from 'react';\nimport 'firebaseui/dist/firebaseui.css';\n/*para usar las fuentes de firebaseui*/\n\nimport Firebase from '../servidor/firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      autenticado: false,\n      usuario: '',\n      firebase: null\n    };\n  }\n\n  componentDidMount() {\n    const firebase = new Firebase();\n    firebase.auth.onAuthStateChanged(authUser => {\n      authUser\n      /*Si el usuario está logueado*/\n      ? this.setState({\n        autenticado: true,\n        usuario: firebase.auth.currentUser.email,\n        firebase: firebase\n      })\n      /*Si el usuario no está logueado*/\n      : firebase.firebaseui.start(\"#firebaseui-auth-container\", {\n        signInSuccessUrl: \"/\",\n        credentialHelper: \"none\",\n        callbacks: {\n          signInSuccessWithAuthResult: (authResult, redirectUrl) => {\n            this.setState({\n              autenticado: true,\n              usuario: firebase.auth.currentUser.email,\n              firebase: firebase\n            });\n            return false;\n          }\n        },\n        signInOptions: [{\n          provider: firebase.autorization.EmailAuthProvider.PROVIDER_ID\n        }]\n      });\n    });\n  }\n\n  render() {\n    return this.state.autenticado ?\n    /*#__PURE__*/\n\n    /*Si es true, va a pintarse el usuario*/\n    _jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Estas logueado loquete, \", this.state.usuario]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.state.firebase.auth.signOut().then(success => {\n            this.setState({\n              autenticado: false\n            });\n          });\n        },\n        children: \"Cerrar sesi\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this) :\n    /*#__PURE__*/\n\n    /*Si es false, saldrá el formulario de loguearse*/\n    _jsxDEV(\"div\", {\n      id: \"firebaseui-auth-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 10\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Enrique/Documents/Desarrollo WEB Cliente/ProyectoMusica/ProyectoMusica/proyecto-musica/src/modulos/vistas/login.js"],"names":["React","Firebase","Login","Component","state","autenticado","usuario","firebase","componentDidMount","auth","onAuthStateChanged","authUser","setState","currentUser","email","firebaseui","start","signInSuccessUrl","credentialHelper","callbacks","signInSuccessWithAuthResult","authResult","redirectUrl","signInOptions","provider","autorization","EmailAuthProvider","PROVIDER_ID","render","signOut","then","success"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,gCAAP;AAAyC;;AACzC,OAAOC,QAAP,MAAqB,sBAArB;;;AAEA,MAAMC,KAAN,SAAoBF,KAAK,CAACG,SAA1B,CAAmC;AAAA;AAAA;AAAA,SAE/BC,KAF+B,GAEzB;AACFC,MAAAA,WAAW,EAAE,KADX;AAEFC,MAAAA,OAAO,EAAE,EAFP;AAGFC,MAAAA,QAAQ,EAAE;AAHR,KAFyB;AAAA;;AAO/BC,EAAAA,iBAAiB,GAAE;AACf,UAAMD,QAAQ,GAAG,IAAIN,QAAJ,EAAjB;AAEAM,IAAAA,QAAQ,CAACE,IAAT,CAAcC,kBAAd,CAAiCC,QAAQ,IAAI;AAEzCA,MAAAA;AAAS;AAAD,QACN,KAAKC,QAAL,CAAc;AACZP,QAAAA,WAAW,EAAE,IADD;AAEZC,QAAAA,OAAO,EAAEC,QAAQ,CAACE,IAAT,CAAcI,WAAd,CAA0BC,KAFvB;AAGZP,QAAAA,QAAQ,EAACA;AAHG,OAAd;AAKF;AANQ,QAOPA,QAAQ,CAACQ,UAAT,CAAoBC,KAApB,CAA0B,4BAA1B,EAAuD;AACpDC,QAAAA,gBAAgB,EAAE,GADkC;AAEpDC,QAAAA,gBAAgB,EAAC,MAFmC;AAGpDC,QAAAA,SAAS,EAAC;AACNC,UAAAA,2BAA2B,EAAG,CAACC,UAAD,EAAaC,WAAb,KAA4B;AACtD,iBAAKV,QAAL,CAAc;AACVP,cAAAA,WAAW,EAAE,IADH;AAEVC,cAAAA,OAAO,EAAEC,QAAQ,CAACE,IAAT,CAAcI,WAAd,CAA0BC,KAFzB;AAGVP,cAAAA,QAAQ,EAACA;AAHC,aAAd;AAKA,mBAAO,KAAP;AACH;AARK,SAH0C;AAapDgB,QAAAA,aAAa,EAAC,CACV;AACIC,UAAAA,QAAQ,EAAEjB,QAAQ,CAACkB,YAAT,CAAsBC,iBAAtB,CAAwCC;AADtD,SADU;AAbsC,OAAvD,CAPD;AA0BH,KA5BD;AA6BH;;AAEDC,EAAAA,MAAM,GAAE;AACJ,WAAO,KAAKxB,KAAL,CAAWC,WAAX;AAAA;;AACL;AACE,YAAC,KAAD,CAAO,QAAP;AAAA,8BACI;AAAA,+CAA8B,KAAKD,KAAL,CAAWE,OAAzC;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAQ,QAAA,OAAO,EAAE,MAAM;AAAC,eAAKF,KAAL,CAAWG,QAAX,CAAoBE,IAApB,CAAyBoB,OAAzB,GAAmCC,IAAnC,CAAwCC,OAAO,IACnC;AAAC,iBAAKnB,QAAL,CAAc;AAACP,cAAAA,WAAW,EAAC;AAAb,aAAd;AAAmC,WADhD;AAGI,SAH5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFG;AAAA;;AAWP;AACC;AAAK,MAAA,EAAE,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA,YAZD;AAaH;;AAvD8B;;AA0DnC,eAAeH,KAAf","sourcesContent":["import React from 'react';\r\nimport 'firebaseui/dist/firebaseui.css'; /*para usar las fuentes de firebaseui*/\r\nimport Firebase from '../servidor/firebase';\r\n\r\nclass Login extends React.Component{\r\n\r\n    state={\r\n        autenticado: false,\r\n        usuario: '',\r\n        firebase: null\r\n    }\r\n    componentDidMount(){\r\n        const firebase = new Firebase();\r\n\r\n        firebase.auth.onAuthStateChanged(authUser => {\r\n\r\n            authUser /*Si el usuario está logueado*/\r\n            ? this.setState({\r\n                autenticado: true,\r\n                usuario: firebase.auth.currentUser.email,\r\n                firebase:firebase\r\n            })\r\n            /*Si el usuario no está logueado*/\r\n            :firebase.firebaseui.start(\"#firebaseui-auth-container\",{\r\n                signInSuccessUrl: \"/\",\r\n                credentialHelper:\"none\",\r\n                callbacks:{\r\n                    signInSuccessWithAuthResult : (authResult, redirectUrl) =>{\r\n                        this.setState({\r\n                            autenticado: true,\r\n                            usuario: firebase.auth.currentUser.email,\r\n                            firebase:firebase\r\n                        })\r\n                        return false;\r\n                    }\r\n                },\r\n                signInOptions:[\r\n                    {\r\n                        provider: firebase.autorization.EmailAuthProvider.PROVIDER_ID\r\n                    }\r\n                ]\r\n            })\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return this.state.autenticado\r\n        ?(/*Si es true, va a pintarse el usuario*/\r\n            <React.Fragment>\r\n                <div>Estas logueado loquete, {this.state.usuario}</div>\r\n                <button onClick={() => {this.state.firebase.auth.signOut().then(success=> \r\n                                                    {this.setState({autenticado:false})}\r\n                                                )\r\n                                           }\r\n                                    }>Cerrar sesión</button>\r\n            </React.Fragment>\r\n        )\r\n        /*Si es false, saldrá el formulario de loguearse*/\r\n        :<div id=\"firebaseui-auth-container\"></div>\r\n    }\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}